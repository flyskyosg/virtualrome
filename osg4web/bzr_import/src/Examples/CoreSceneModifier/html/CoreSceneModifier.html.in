<HTML>
<HEAD>
<TITLE>OSG4Web: OpenSceneGraph Plugin 4 IE and Firefox</TITLE>
<style type="text/css">
<!--
.Stile1 {font-family: Verdana, Arial, Helvetica, sans-serif}
.Stile2 {
	font-size: 14px;
	font-style: italic;
}
.Stile4 {
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-weight: bold;
	font-size: 36px;
}
.Stile5 {font-family: Verdana, Arial, Helvetica, sans-serif; font-size: 12px; }
.Stile6 {font-size: 10px}
-->
</style>
</HEAD>
<BODY>

<center class="Stile1">
<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><div align="center"><span class="Stile4">OSG4Web Test Page </span></div></td>
  </tr>
  <tr>
    <td><div align="center"><strong><span class="Stile1"><span class="Stile2"><br>
      OpenSceneGraph Plugin 4 IE and Firefox</span></span></strong><br>
      </div></td>
  </tr>
</table>
</center>

<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td width="73%"><div align="center"><span class="Stile1">
      <br>
      <object name="OSG" id="@www.vhlab.itabc.cnr.it/osg4web,version=1.0.0.0" width="100%" height="550" type="application/osg4web-plugin" >
	<param name="ADVCore" value="http://localhost/osg4webtest/@DUMMY_SHA1@.rar">
	<param name="ADVCoreSHA1" value="@DUMMY_SHA1@">
	<param name="ADVCoreStartOptions" value="COREBASE ADDSINGLE_MODEL http://localhost/osg4webtest/cow.ive"> 
<!--	<param name="ADVCoreInitOptions" value="useOriginalExternalReferences noLoadExternalReferenceFiles"> -->
<!--	<param name="LoadCoreOptions" value="useOriginalExternalReferences noLoadExternalReferenceFiles"> -->
      </object>

      <script language="JavaScript">
	function createNode(createtype, name) 
	{
		compcommand;
		if(createtype == 0)
			compcommand = 'SCENEMODIFIER CREATE_GROUP  MAINSCENENODE ' + name;
		else if(createtype == 1)
			compcommand = 'SCENEMODIFIER CREATE_SWITCH  MAINSCENENODE ' + name;
		else compcommand = 'SCENEMODIFIER CREATE_MATRIXTRANSFORM  MAINSCENENODE ' + name;

		
		result = ExecCoreCommand(compcommand);

		if( result != 'COMMAND_OK')
			alert(result);
	}

	function moveNode(nodetomove, newparentnode) 
	{
		compcommand = 'SCENEMODIFIER MOVE_NODE ' + nodetomove + ' ' + newparentnode;
		result = ExecCoreCommand(compcommand);

		if( result != 'COMMAND_OK')
			alert(result);
	}

	function ExecCoreCommand(command) 
	{
		compcommand = command;
		return document.OSG.execCoreCommand(compcommand);
	}

	function ExecCoreCommandNoReturn(command) 
	{
		compcommand = command;
		document.OSG.execCoreCommand(compcommand);
	}

	function createSwitchedCow()
	{
		result = ExecCoreCommand('SCENEMODIFIER CREATE_SWITCH MAINSCENENODE CowSwitch');

		if( result != 'COMMAND_OK')
		{
			alert(result);
			return
		}

		result = ExecCoreCommand('SCENEMODIFIER MOVE_NODE http://localhost/osg4webtest/cow.ive CowSwitch');

		if( result != 'COMMAND_OK')
		{
			alert(result);
			return
		}	
	}

	function switchCow()
	{
		result = ExecCoreCommand('SCENEMODIFIER SWITCH_ALL_CHILD CowSwitch');

		if( result != 'COMMAND_OK')
		{
			alert(result);
			return
		}
	}

	</script>

    </span></div></td>
    <td width="27%" valign="top" class="Stile5">
	<table width="100%" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><a href="javascript:ExecCoreCommandNoReturn('COREBASE ADDSINGLE_MODEL http://localhost/osg4webtest/cow.ive')">Carica Mucca</a></td>
  </tr>
  <tr>
    <td><a href="javascript:ExecCoreCommandNoReturn('COREBASE VIEW_HOME')">Posizione Iniziale</a></td>
  </tr>
  <tr>
	  <td>&nbsp;</td>
  </tr>
  <tr>
    <td><a href="javascript:moveNode('http://localhost/osg4webtest/cow.ive','MTTranslate')">Sposta Nodo Mucca in MTTranslate</a></td>
  </tr>
  <tr>
    <td><a href="javascript:moveNode('http://localhost/osg4webtest/cow.ive','MTScale')">Sposta Nodo Mucca in MTScale</a></td>
  </tr>
  <tr>
    <td><a href="javascript:moveNode('http://localhost/osg4webtest/cow.ive','MTRotate')">Sposta Nodo Mucca in MTRotate</a></td>
  </tr>
  <tr>
	  <td>&nbsp;</td>
  </tr>
   <tr>
    <td><a href="javascript:createNode(0, 'NuovoGruppo')">Crea Gruppo in MainNode</a></td>
  </tr>
  <tr>
    <td><a href="javascript:createNode(1, 'NuovoGruppo')">Crea Switch in MainNode</a></td>
  </tr>
  <tr>
    <td><a href="javascript:createNode(2, 'NuovoGruppo')">Crea MatrixTransform in MainNode</a></td>
  </tr>
  <tr>
	  <td>&nbsp;</td>
  </tr>
  <tr>
    <td><a href="javascript:createSwitchedCow()">Crea MuccaSwitch</a></td>
  </tr>
  <tr>
    <td><a href="javascript:switchCow()">Switch Mucca</a></td>
  </tr>
  <tr>
    <td></td>
  </tr>
  <tr>
	  <td>&nbsp;</td>
  </tr>
</table>
</td>
  </tr>
</table>
 </span></p>
<center>

  <br>

</center>

</BODY>
</HTML>
